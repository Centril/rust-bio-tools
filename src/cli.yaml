name: Rust-Bio-Tools
author: Johannes Köster <johannes.koester@tu-dortmund.de>
about: A set of ultra-fast command line utilities for bioinformatics tasks based on Rust-Bio.

settings:
  - SubcommandRequired

global_settings:
  - ColoredHelp

subcommands:
  - fastq-split:
      about: Split FASTQ file from STDIN into N chunks.
      author: Johannes Köster <johannes.koester@tu-dortmund.de>
      args:
        - chunks:
            required: true
            multiple: true
            help: Chunks to create.

  - bam-depth:
      about: "Print depth of BAM or CRAM file at given positions from STDIN (tab separated: chrom, pos)."
      author: Johannes Köster <johannes.koester@tu-dortmund.de>
      args:
        - bam-path:
            required: true
            help: Path to indexed BAM file.
        - max-read-length:
            short: m
            value_name: INT
            help: "Maximum read length to consider. This affects the speed of the involved pileup. Reads longer than this length can be missed when calculating the depth [1000]."
        - include-flags:
            long: incl-flags
            short: i
            value_name: INT
            help:  "Skip reads with mask bits unset []."
        - exclude-flags:
            long: excl-flags
            short: e
            value_name: INT
            help: "Skip reads with mask bits set [UNMAP, SECONDARY, QCFAIL, DUP]."
        - min-mapq:
            long: "min-mapq"
            short: "q"
            value_name: INT
            help: "Minimum mapping quality [0]."

  - vcf-to-txt:
      about: Convert VCF/BCF file from STDIN to tab-separated TXT file at STDOUT. INFO and FORMAT tags have to be selected explicitly.
      author: Johannes Köster <johannes.koester@tu-dortmund.de>
      args:
        - info:
            long: info
            short: i
            value_name: NAME
            multiple: true
            help: Select INFO tags.
        - format:
            long: fmt
            short: f
            value_name: NAME
            multiple: true
            help: Select FORMAT tags.
